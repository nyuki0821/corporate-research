# ä¼æ¥­æƒ…å ±åé›†ã‚·ã‚¹ãƒ†ãƒ  è²»ç”¨å‰Šæ¸›æˆ¦ç•¥ è©³ç´°åˆ†æ

## ğŸ“Š ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹æ¯”è¼ƒè¡¨

| ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ | è²»ç”¨ | æœˆé–“åˆ¶é™ | å–å¾—å¯èƒ½ãƒ‡ãƒ¼ã‚¿ | ç²¾åº¦ | å®Ÿè£…é›£æ˜“åº¦ |
|-------------|------|----------|---------------|------|-----------|
| **æ³•äººç•ªå·å…¬è¡¨ã‚µã‚¤ãƒˆ** | ğŸ†“ ç„¡æ–™ | ç„¡åˆ¶é™ | åŸºæœ¬æƒ…å ±ã€ä½æ‰€ã€è¨­ç«‹æ—¥ | â­â­â­â­â­ | ç°¡å˜ |
| **Google Places API** | ğŸ†“ 3,000ä»¶/æœˆ<br/>ğŸ’° $17/1,000ä»¶ | åˆ¶é™ã‚ã‚Š | é›»è©±ã€ä½æ‰€ã€ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆ | â­â­â­â­ | ç°¡å˜ |
| **ç›´æ¥ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°** | ğŸ†“ ç„¡æ–™ | ç„¡åˆ¶é™ | é›»è©±ã€æ”¯åº—ã€è©³ç´°æƒ…å ± | â­â­â­ | ä¸­ç´š |
| **Bing Maps API** | ğŸ†“ 125,000ä»¶/æœˆ | åˆ¶é™ã‚ã‚Š | ä½æ‰€ã€é›»è©±ã€åŸºæœ¬æƒ…å ± | â­â­â­ | ç°¡å˜ |
| **Tavilyæ¤œç´¢** | ğŸ’° $0.005/æ¤œç´¢ | å¾“é‡èª²é‡‘ | åŒ…æ‹¬çš„æƒ…å ± | â­â­â­â­ | ç°¡å˜ |
| **OpenAIå‡¦ç†** | ğŸ’° $0.15/100ä¸‡ãƒˆãƒ¼ã‚¯ãƒ³ | å¾“é‡èª²é‡‘ | é«˜ç²¾åº¦æŠ½å‡º | â­â­â­â­â­ | ä¸­ç´š |

## ğŸ’° è²»ç”¨å‰Šæ¸›ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

### ã‚·ãƒŠãƒªã‚ª1: å°è¦æ¨¡é‹ç”¨ï¼ˆæœˆ100ç¤¾ï¼‰

**å¾“æ¥ã‚·ã‚¹ãƒ†ãƒ :**
```
Tavilyæ¤œç´¢: 100ç¤¾ Ã— $0.025 = $2.50
OpenAIå‡¦ç†: 100ç¤¾ Ã— $8.50 = $850.00
åˆè¨ˆ: $852.50/æœˆ
```

**æ–°ã‚·ã‚¹ãƒ†ãƒ :**
```
æ³•äººç•ªå·API: 100ç¤¾ Ã— $0 = $0
Google Places: 100ç¤¾ Ã— $0 = $0ï¼ˆç„¡æ–™æ å†…ï¼‰
ç›´æ¥ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°: 100ç¤¾ Ã— $0 = $0
æœ‰æ–™è£œå®Œï¼ˆ20%ã®ã¿ï¼‰: 20ç¤¾ Ã— $1.50 = $30.00
åˆè¨ˆ: $30.00/æœˆ
```

**å‰Šæ¸›åŠ¹æœ: 96.5%å‰Šæ¸›ï¼ˆ$822.50ç¯€ç´„ï¼‰**

### ã‚·ãƒŠãƒªã‚ª2: ä¸­è¦æ¨¡é‹ç”¨ï¼ˆæœˆ500ç¤¾ï¼‰

**å¾“æ¥ã‚·ã‚¹ãƒ†ãƒ :**
```
Tavilyæ¤œç´¢: 500ç¤¾ Ã— $0.025 = $12.50
OpenAIå‡¦ç†: 500ç¤¾ Ã— $8.50 = $4,250.00
åˆè¨ˆ: $4,262.50/æœˆ
```

**æ–°ã‚·ã‚¹ãƒ†ãƒ :**
```
æ³•äººç•ªå·API: 500ç¤¾ Ã— $0 = $0
Google Places: 500ç¤¾ Ã— $0.006 = $3.00ï¼ˆä¸€éƒ¨æœ‰æ–™ï¼‰
ç›´æ¥ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°: 500ç¤¾ Ã— $0 = $0
æœ‰æ–™è£œå®Œï¼ˆ30%ã®ã¿ï¼‰: 150ç¤¾ Ã— $1.50 = $225.00
åˆè¨ˆ: $228.00/æœˆ
```

**å‰Šæ¸›åŠ¹æœ: 94.7%å‰Šæ¸›ï¼ˆ$4,034.50ç¯€ç´„ï¼‰**

### ã‚·ãƒŠãƒªã‚ª3: å¤§è¦æ¨¡é‹ç”¨ï¼ˆæœˆ1,000ç¤¾ï¼‰

**å¾“æ¥ã‚·ã‚¹ãƒ†ãƒ :**
```
Tavilyæ¤œç´¢: 1,000ç¤¾ Ã— $0.025 = $25.00
OpenAIå‡¦ç†: 1,000ç¤¾ Ã— $8.50 = $8,500.00
åˆè¨ˆ: $8,525.00/æœˆ
```

**æ–°ã‚·ã‚¹ãƒ†ãƒ :**
```
æ³•äººç•ªå·API: 1,000ç¤¾ Ã— $0 = $0
Google Places: 1,000ç¤¾ Ã— $0.017 = $17.00
ç›´æ¥ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°: 1,000ç¤¾ Ã— $0 = $0
æœ‰æ–™è£œå®Œï¼ˆ40%ã®ã¿ï¼‰: 400ç¤¾ Ã— $1.50 = $600.00
åˆè¨ˆ: $617.00/æœˆ
```

**å‰Šæ¸›åŠ¹æœ: 92.8%å‰Šæ¸›ï¼ˆ$7,908.00ç¯€ç´„ï¼‰**

## ğŸ”§ æŠ€è¡“çš„å®Ÿè£…è©³ç´°

### 1. æ³•äººç•ªå·å…¬è¡¨ã‚µã‚¤ãƒˆ API

**ç‰¹å¾´:**
- å›½ç¨åºãŒæä¾›ã™ã‚‹å…¬å¼API
- å®Œå…¨ç„¡æ–™ã€åˆ¶é™ãªã—
- æ³•äººã®åŸºæœ¬æƒ…å ±ãŒç¢ºå®Ÿã«å–å¾—å¯èƒ½

**å®Ÿè£…ä¾‹:**
```javascript
async searchCorporateNumber(companyName) {
  const apiUrl = 'https://api.houjin-bangou.nta.go.jp/4/num';
  const params = {
    id: 'your_app_id', // ç„¡æ–™ç™»éŒ²ã§å–å¾—
    name: companyName,
    mode: '2', // å‰æ–¹ä¸€è‡´æ¤œç´¢
    type: '12' // æ ªå¼ä¼šç¤¾ç­‰
  };
  
  // APIãƒªã‚¯ã‚¨ã‚¹ãƒˆå®Ÿè¡Œ
  const response = await UrlFetchApp.fetch(apiUrl + '?' + this.buildQueryString(params));
  
  if (response.getResponseCode() === 200) {
    const data = JSON.parse(response.getContentText());
    return this.parseCorporateData(data);
  }
}
```

**å–å¾—å¯èƒ½ãƒ‡ãƒ¼ã‚¿:**
- æ³•äººå
- æ‰€åœ¨åœ°
- æ³•äººç•ªå·
- è¨­ç«‹å¹´æœˆæ—¥
- æ³•äººç¨®åˆ¥

### 2. Google Places API

**ç‰¹å¾´:**
- æœˆ3,000ãƒªã‚¯ã‚¨ã‚¹ãƒˆç„¡æ–™
- é«˜ç²¾åº¦ãªä½ç½®æƒ…å ±
- é›»è©±ç•ªå·ã€ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆæƒ…å ±

**å®Ÿè£…ä¾‹:**
```javascript
async searchGooglePlaces(companyName) {
  // Text Search API
  const searchUrl = 'https://maps.googleapis.com/maps/api/place/textsearch/json';
  const searchParams = {
    query: `${companyName} æ—¥æœ¬`,
    key: this.apiKey,
    language: 'ja',
    region: 'jp'
  };
  
  const searchResponse = await UrlFetchApp.fetch(searchUrl + '?' + this.buildQueryString(searchParams));
  const searchData = JSON.parse(searchResponse.getContentText());
  
  if (searchData.results.length > 0) {
    const placeId = searchData.results[0].place_id;
    
    // Place Details API
    const detailsUrl = 'https://maps.googleapis.com/maps/api/place/details/json';
    const detailsParams = {
      place_id: placeId,
      key: this.apiKey,
      fields: 'name,formatted_phone_number,formatted_address,website,business_status'
    };
    
    const detailsResponse = await UrlFetchApp.fetch(detailsUrl + '?' + this.buildQueryString(detailsParams));
    return JSON.parse(detailsResponse.getContentText());
  }
}
```

### 3. ç›´æ¥Webã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°

**ç‰¹å¾´:**
- å®Œå…¨ç„¡æ–™
- æœ€æ–°æƒ…å ±ã‚’ç›´æ¥å–å¾—
- ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½

**å®Ÿè£…æˆ¦ç•¥:**
```javascript
async directWebScraping(companyName) {
  // 1. ãƒ‰ãƒ¡ã‚¤ãƒ³æ¨æ¸¬
  const domains = this.generatePossibleDomains(companyName);
  
  // 2. å„ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’é †æ¬¡ãƒã‚§ãƒƒã‚¯
  for (const domain of domains) {
    try {
      const response = await UrlFetchApp.fetch(`https://${domain}`, {
        muteHttpExceptions: true,
        followRedirects: true,
        headers: {
          'User-Agent': 'Mozilla/5.0 (compatible; CompanyResearchBot/1.0)'
        }
      });
      
      if (response.getResponseCode() === 200) {
        const html = response.getContentText();
        
        // 3. ãƒ‡ãƒ¼ã‚¿æŠ½å‡º
        const extractedData = {
          phone: this.extractPhoneFromHtml(html),
          branches: this.extractBranchesFromHtml(html),
          address: this.extractAddressFromHtml(html)
        };
        
        if (this.isValidData(extractedData)) {
          return extractedData;
        }
      }
    } catch (error) {
      continue; // æ¬¡ã®ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’è©¦ã™
    }
  }
  
  return null;
}

generatePossibleDomains(companyName) {
  const cleanName = companyName
    .replace(/æ ªå¼ä¼šç¤¾|æœ‰é™ä¼šç¤¾|åˆåŒä¼šç¤¾|åˆè³‡ä¼šç¤¾|åˆåä¼šç¤¾/g, '')
    .replace(/\s+/g, '')
    .toLowerCase()
    .replace(/[^a-z0-9]/g, '');
  
  return [
    `${cleanName}.co.jp`,
    `${cleanName}.com`,
    `www.${cleanName}.co.jp`,
    `www.${cleanName}.com`,
    `${cleanName}.jp`,
    `${cleanName}.ne.jp`
  ];
}
```

## ğŸ“ˆ ãƒ‡ãƒ¼ã‚¿å“è³ªã¨æˆåŠŸç‡

### ç„¡æ–™ã‚½ãƒ¼ã‚¹ã§ã®æˆåŠŸç‡äºˆæ¸¬

| ãƒ‡ãƒ¼ã‚¿ç¨®åˆ¥ | æ³•äººç•ªå·API | Google Places | ç›´æ¥ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚° | çµ±åˆæˆåŠŸç‡ |
|-----------|-------------|---------------|------------------|-----------|
| **åŸºæœ¬æƒ…å ±** | 95% | 80% | 60% | **98%** |
| **é›»è©±ç•ªå·** | 0% | 85% | 70% | **92%** |
| **ä½æ‰€** | 90% | 90% | 65% | **97%** |
| **ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆ** | 0% | 75% | 80% | **88%** |
| **æ”¯åº—æƒ…å ±** | 0% | 20% | 40% | **45%** |

### æœ‰æ–™è£œå®ŒãŒå¿…è¦ãªã‚±ãƒ¼ã‚¹

**ä»¥ä¸‹ã®å ´åˆã«æœ‰æ–™ã‚½ãƒ¼ã‚¹ã‚’ä½¿ç”¨:**
1. æ”¯åº—æƒ…å ±ãŒç„¡æ–™ã‚½ãƒ¼ã‚¹ã§å–å¾—ã§ããªã„ï¼ˆ45%ã®ã‚±ãƒ¼ã‚¹ï¼‰
2. é›»è©±ç•ªå·ãŒè¦‹ã¤ã‹ã‚‰ãªã„ï¼ˆ8%ã®ã‚±ãƒ¼ã‚¹ï¼‰
3. æœ€æ–°ã®è©³ç´°æƒ…å ±ãŒå¿…è¦ï¼ˆç‰¹æ®Šã‚±ãƒ¼ã‚¹ï¼‰

## ğŸš€ å®Ÿè£…ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—

### Phase 1: åŸºç›¤æ§‹ç¯‰ï¼ˆ1é€±é–“ï¼‰
- [ ] æ³•äººç•ªå·APIçµ±åˆ
- [ ] Google Places APIçµ±åˆ
- [ ] åŸºæœ¬çš„ãªã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°æ©Ÿèƒ½

### Phase 2: é«˜åº¦åŒ–ï¼ˆ1é€±é–“ï¼‰
- [ ] ç›´æ¥ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ã®ç²¾åº¦å‘ä¸Š
- [ ] ãƒ‡ãƒ¼ã‚¿çµ±åˆãƒ­ã‚¸ãƒƒã‚¯
- [ ] å“è³ªãƒã‚§ãƒƒã‚¯æ©Ÿèƒ½

### Phase 3: æœ€é©åŒ–ï¼ˆ1é€±é–“ï¼‰
- [ ] æœ‰æ–™ã‚½ãƒ¼ã‚¹æœ€å°åŒ–ãƒ­ã‚¸ãƒƒã‚¯
- [ ] ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ©Ÿèƒ½
- [ ] ç›£è¦–ãƒ»ãƒ¬ãƒãƒ¼ãƒˆæ©Ÿèƒ½

## ğŸ’¡ ã•ã‚‰ãªã‚‹æœ€é©åŒ–ã‚¢ã‚¤ãƒ‡ã‚¢

### 1. ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥
```javascript
// åŒä¸€ä¼æ¥­ã®é‡è¤‡æ¤œç´¢ã‚’é¿ã‘ã‚‹
const cacheKey = `company_${companyName.replace(/\s+/g, '_')}`;
const cached = this.cache.get(cacheKey);
if (cached && this.isCacheValid(cached)) {
  return cached.data;
}
```

### 2. ãƒãƒƒãƒå‡¦ç†æœ€é©åŒ–
```javascript
// è¤‡æ•°ä¼æ¥­ã‚’åŠ¹ç‡çš„ã«å‡¦ç†
async batchProcess(companies) {
  const batches = this.chunkArray(companies, 10);
  const results = [];
  
  for (const batch of batches) {
    const batchResults = await Promise.all(
      batch.map(company => this.research(company))
    );
    results.push(...batchResults);
    
    // ãƒ¬ãƒ¼ãƒˆåˆ¶é™å¯¾å¿œ
    await this.sleep(1000);
  }
  
  return results;
}
```

### 3. æ©Ÿæ¢°å­¦ç¿’ã«ã‚ˆã‚‹ç²¾åº¦å‘ä¸Š
```javascript
// æˆåŠŸãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’å­¦ç¿’ã—ã¦æ¨æ¸¬ç²¾åº¦ã‚’å‘ä¸Š
class DomainPredictor {
  constructor() {
    this.successPatterns = new Map();
  }
  
  recordSuccess(companyName, domain) {
    const pattern = this.extractPattern(companyName);
    this.successPatterns.set(pattern, domain);
  }
  
  predictDomain(companyName) {
    const pattern = this.extractPattern(companyName);
    return this.successPatterns.get(pattern);
  }
}
```

## ğŸ“Š ROIè¨ˆç®—

### å¹´é–“ã‚³ã‚¹ãƒˆæ¯”è¼ƒï¼ˆæœˆ500ç¤¾å‡¦ç†ã®å ´åˆï¼‰

**å¾“æ¥ã‚·ã‚¹ãƒ†ãƒ :**
- å¹´é–“è²»ç”¨: $4,262.50 Ã— 12 = $51,150
- é–‹ç™ºãƒ»ä¿å®ˆ: $10,000
- **ç·ã‚³ã‚¹ãƒˆ: $61,150**

**æ–°ã‚·ã‚¹ãƒ†ãƒ :**
- å¹´é–“è²»ç”¨: $228.00 Ã— 12 = $2,736
- é–‹ç™ºãƒ»ä¿å®ˆ: $15,000ï¼ˆåˆæœŸå®Ÿè£…ã‚³ã‚¹ãƒˆï¼‰
- **ç·ã‚³ã‚¹ãƒˆ: $17,736**

**å¹´é–“ç¯€ç´„é¡: $43,414ï¼ˆ71%å‰Šæ¸›ï¼‰**
**æŠ•è³‡å›åæœŸé–“: 4.1ãƒ¶æœˆ**

ã“ã®æˆ¦ç•¥ã«ã‚ˆã‚Šã€**å“è³ªã‚’ç¶­æŒã—ãªãŒã‚‰å¤§å¹…ãªè²»ç”¨å‰Šæ¸›**ãŒå®Ÿç¾ã§ãã‚‹ã®ã‚ˆï¼ 